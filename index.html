<!DOCTYPE html >
<html lang="en">
<head  >
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <header  ></header>
    
    <title>Three.js Flag with Mouse Control</title>
    <style>
        body { margin: 0; }
        canvas { display: block; }
        
        #prin {
            width: 900px;
            height: 0;
            border-left: 0px solid transparent;
            border-right: 600px solid transparent;
            border-bottom: 900px solid rgba(0, 0, 0, 0.8);
            position: absolute;
        }
    
    </style>
</head>
<body >
    <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/build/three.min.js"></script>
    <div id="prin">hola</div>
    <script>
        // Crear la escena
        
        const scene = new THREE.Scene();

        // Crear una cámara
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 15; // Alejar la cámara para ver toda la bandera

        // Crear un renderizador
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(new THREE.Color(0.0039, 0.1216, 0.0549));
        document.body.appendChild(renderer.domElement);

        // Cargar la textura de la bandera
        const textureLoader = new THREE.TextureLoader();
        textureLoader.load("images/m.png", (texture) => {
            // Crear la geometría y el material para la bandera
            const width = 32; // Doble ancho de la bandera
            const height = 15; // Doble altura de la bandera
            const geometry = new THREE.PlaneGeometry(width, height, 64, 32); // Mayor tamaño y más segmentos
            const material = new THREE.MeshBasicMaterial({ 
                map: texture, 
                side: THREE.DoubleSide, 
                transparent: true 
            });
            const flag = new THREE.Mesh(geometry, material);

            // Aplicar rotación a la bandera
            flag.rotation.y = -Math.PI / 8; // Rotar -22.5 grados (PI/8 radianes) hacia la derecha

            // Posicionar la bandera en la esquina superior derecha
            flag.position.set(8, 6, 0); // Ajustar las coordenadas para la nueva escala

            scene.add(flag);

        

            // Función de animación
            function animate() {
                requestAnimationFrame(animate);

                // Animar ondeo de la bandera
                const time = Date.now() * 0.002;
                const positionAttribute = geometry.attributes.position;
                for (let i = 0; i < positionAttribute.count; i++) {
                    const x = positionAttribute.getX(i);
                    const y = positionAttribute.getY(i);
                    const z = Math.sin((time + x * 0.5) * 2) * 0.4 + Math.sin((time + y * 0.5) * 2) * 0.4;
                    positionAttribute.setZ(i, z);
                }
                positionAttribute.needsUpdate = true;

                // Renderizar la escena
                renderer.render(scene, camera);
            }

            // Iniciar la animación
            animate();
        });

        // Ajustar el tamaño del renderizador cuando cambie el tamaño de la ventana
        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
        });
    </script>
</body>
</html>
